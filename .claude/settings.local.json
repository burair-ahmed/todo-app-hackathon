{
  "permissions": {
    "allow": [
      "Bash(find . -name \"*.md\" -not -path \"./.specify/memory/constitution.md\" -exec grep -l \"constitution\\\\|Constitution\" {} ;)",
      "Bash(git fetch --all --prune)",
      "Bash(.specify/scripts/powershell/create-new-feature.ps1 -Json \"Specify Phase I: Todo In-Memory Python Console Application.\n\nFunctional Requirements:\n\n1. Add Task\n   - User can add a task via console input.\n   - Task must include:\n     - Unique ID \\(auto-generated\\)\n     - Title \\(required\\)\n     - Description \\(optional\\)\n     - Completion status \\(default: incomplete\\)\n\n2. View Task List\n   - Display all tasks in the console.\n   - Each task should show:\n     - ID\n     - Title\n     - Description\n     - Status \\(Completed / Incomplete\\)\n\n3. Update Task\n   - User can update task title and/or description by task ID.\n   - Completion status must remain unchanged unless explicitly toggled.\n\n4. Delete Task\n   - User can delete a task by providing its ID.\n   - Deleted tasks are permanently removed from memory.\n\n5. Mark Task as Complete / Incomplete\n   - User can toggle task completion status by ID.\n\nNon-Functional Requirements:\n- Application runs entirely in memory.\n- Clear console prompts and outputs.\n- Graceful handling of invalid input \\(e.g., invalid IDs\\).\n- Fast startup with no external services required.\n\nDefine:\n- Task data model\n- Application flow\n- Console command structure\n- Error handling strategy\" -Json -Number 1 -ShortName \"todo-console-app\")",
      "Bash(.specify/scripts/powershell/setup-plan.ps1 -Json)",
      "Bash(.specify/scripts/powershell/check-prerequisites.ps1 -Json)",
      "Bash(.specify/scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks)",
      "Bash(python -m unittest discover -s tests/unit -p \"test_*.py\" -v)",
      "Bash(python -m unittest discover -s tests/integration -p \"test_*.py\" -v)",
      "Bash(python -m unittest discover -s tests/ -p \"test_*.py\" -v)",
      "Bash(python -m unittest tests.unit.test_task -v)",
      "Bash(python -m unittest tests.unit.test_task_manager -v)",
      "Bash(python -m unittest tests.integration.test_cli -v)",
      "Bash(timeout 10s python src/main.py)",
      "Bash(timeout 5s python src/main.py)",
      "Bash(timeout 5s python -m src.main)",
      "Bash(timeout 5s python -c \"import sys; sys.path.insert\\(0, ''.''\\); from src.main import main; main\\(\\)\")",
      "Bash(python -m unittest tests.integration.test_cli.TestCLIAddTask.test_update_task_successfully -v)",
      "Bash(python -m unittest tests.integration.test_cli.TestCLIAddTask.test_delete_task_successfully -v)",
      "Bash(python -m unittest discover -s tests/ -p \"test_*.py\")",
      "Bash(python -m unittest tests.unit.test_task tests.unit.test_task_manager tests.integration.test_cli)",
      "Bash(.specify/scripts/bash/create-phr.sh --title \"Update Constitution Full-Stack App\" --stage constitution --json)",
      "Bash(.specify/scripts/bash/create-phr.sh --title \"Create Todo Full-Stack Spec\" --stage spec --feature todo-fullstack --json)",
      "Bash(.specify/scripts/bash/create-phr.sh --title \"Update Plan Full-Stack App\" --stage plan --feature todo-fullstack --json)",
      "Bash(.specify/scripts/bash/create-phr.sh --title \"Generate Todo Full-Stack Tasks\" --stage tasks --feature todo-fullstack --json)",
      "Bash(.specify/scripts/bash/create-phr.sh --title \"Complete Todo Full-Stack Implementation\" --stage tasks --feature todo-fullstack --json)",
      "Bash(npm install --legacy-peer-deps)",
      "Bash(pip install -r requirements.txt)",
      "Bash(venvScriptsactivate)",
      "Bash(uvicorn src.main:app --reload --port 8000)",
      "Bash(python -m venv venv)",
      "Bash(python -c \"import fastapi; print\\(''FastAPI version:'', fastapi.__version__\\)\")",
      "Bash(python -c \"from src.main import app; import uvicorn; uvicorn.run\\(app, host=''127.0.0.1'', port=8000\\)\")",
      "Bash(pip install python-jose[cryptography])",
      "Bash(python -c \"from jose import JWTError, jwt; print\\(''jose imported successfully''\\)\")",
      "Bash(pip install --user python-jose[cryptography]==3.3.0)",
      "Bash(python -c \"import jose; print\\(''jose module:'', jose.__file__\\)\")",
      "Bash(python -c \"import jwcrypto; print\\(''jwcrypto available''\\)\")",
      "Bash(pip install)",
      "Bash(pip install --user 'python-jose[cryptography]')",
      "Bash(pip install --user pyjwt)",
      "Bash(python -c \"from jose import JWTError, jwt\")",
      "Bash(python -c \"import jwt; print\\(''JWT imported successfully''\\)\")",
      "Bash(python -c \"from src.middleware.jwt_auth import get_current_user; print\\(''JWT auth module imported successfully''\\)\")",
      "Bash(timeout 10s python -c \"from src.main import app; import uvicorn; uvicorn.run\\(app, host=''127.0.0.1'', port=8000, timeout_keep_alive=30\\)\")",
      "Bash(python -c \"from src.main import app; print\\(''Main app imported successfully''\\)\")",
      "Bash(pip install --user sqlmodel)",
      "Bash(python -c \"import sqlmodel; print\\(''SQLModel imported successfully''\\)\")",
      "Bash(python -m pip install -r requirements.txt)",
      "Skill(sp.phr)",
      "Bash(.specify/scripts/bash/create-phr.sh --title \"Update Constitution for Todo AI Chatbot\" --stage constitution --json)",
      "Bash(git config user.name)",
      "Bash(ls -d specs/*/)",
      "Bash(.specify/scripts/powershell/create-new-feature.ps1 -Json \"Specify Phase III: Todo AI Chatbot.\n\nChat API:\n\nEndpoint:\nPOST /api/{user_id}/chat\n\nRequest:\n* conversation_id \\(integer, optional\\)\n* message \\(string, required\\)\n\nResponse:\n* conversation_id \\(integer\\)\n* response \\(string\\)\n* tool_calls \\(array\\)\n\nConversation Rules:\n* If conversation_id is missing, create new conversation\n* Conversation belongs to authenticated user only\n* All messages are persisted\n\nDatabase Models:\n\nConversation:\n* id\n* user_id\n* created_at\n* updated_at\n\nMessage:\n* id\n* user_id\n* conversation_id\n* role \\(\"\"user\"\" | \"\"assistant\"\"\\)\n* content\n* created_at\n\nAgent Rules:\n* Agent receives full conversation history\n* Agent decides when to call MCP tools\n* Agent MUST confirm actions in natural language\n* Agent MUST handle errors gracefully\n\nMCP Tool Contracts:\n\n* add_task\n* list_tasks\n* update_task\n* complete_task\n* delete_task\n\nEach MCP tool:\n* Is stateless\n* Persists changes to database\n* Enforces user ownership\n* Returns structured JSON only\n\nFrontend Requirements:\n* ChatKit UI\n* Auth-protected chatbot page\n* Messages streamed or rendered sequentially\n* No task logic in frontend\n\nBackend Requirements:\n* Agent runner using OpenAI Agents SDK\n* Gemini-backed model configuration\n* MCP server mounted alongside FastAPI\" -Json -Number 1 -ShortName \"ai-chatbot\")",
      "Bash(git checkout -b 1-ai-chatbot)",
      "Bash(find)"
    ]
  }
}
